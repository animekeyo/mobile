<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="/mobile-manifest.json?clear-21553">
    <link rel="icon" href="/icon-192x192.png">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('service worker registered'))
                .catch(err => console.log('service worker not registered', err));
        }
    </script>
    <title>Anime Keyo</title>
    <script src="https://canary.animekeyo.com/scripts/jquery.js"></script>
    <!---//////////////////////////------jquery------///////////////////////////--->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://rawgit.com/jackmoore/autosize/master/dist/autosize.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-storage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.all.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://canary.animekeyo.com/scripts/firebase.js"></script>

    <script>
        function a(inn, id, clas) {
            if (inn, id) {
                aa = $(`<${inn}   ${id} class="m${clas}"></${inn}>`);
            } else if (inn) {
                aa = $(`<${inn}></${inn}>`);
            }
            return aa
        };

        function input(id, classx, type, auto, placeholder) {

            aa = $(` <input  type="${type}" ${classx}  placeholder="${placeholder}" autocomplete="${auto}" id="${id}" required>`);
            return aa
        };

        function srcx(inn, id, clas, src) {
            if (inn, id) {
                aa = $(`<${inn}  ${id} src="${src}" class="m${clas}">`);
            }
            return aa
        };

        function sh(dsfvf) {
            setTimeout(function name(params) {
                $(dsfvf).css({
                    'height': $(dsfvf).width() + 'px'
                })
            }, 2000)
            $(dsfvf).css({
                'height': $(dsfvf).width() + 'px'
            })
            $(window).on('resize', function() {
                $(dsfvf).css({
                    'height': $(dsfvf).width() + 'px'
                })
            })
        }

        function sw(dsfvf) {
            $(dsfvf).css({
                'width': $(dsfvf).height() + 'px'
            })
            $(window).on('resize', function() {
                $(dsfvf).css({
                    'width': $(dsfvf).height() + 'px'
                })
            })
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style ux>
        @import url("https://canary.animekeyo.com/styles/style.css?clear1-5");
    </style>
    <style mi>
         :root {
            --v1: rgb(88, 101, 242);
        }
        
        .m1 {
            display: grid;
            grid-gap: 10px;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }
        
        .mn9 {
            padding: 1rem 1.3rem;
            gap: 0.5rem;
            background: var(--r10);
            /* margin: 0 01rem; */
            /* border-radius: 10px; */
        }
        
        .mn92 {
            font-size: 1rem;
            color: hsl(0deg 0% 90%);
        }
        
        .mn91 {
            text-transform: uppercase;
            font-size: 1.1rem;
        }
        
        .mn93 {
            display: flex;
            flex-direction: row;
            padding: 4px 8px;
            background: var(--v1);
            font-size: 15px;
            text-transform: uppercase;
            gap: 5px;
            border-radius: 4px;
        }
        
        .mn93 svg {
            fill: var(--c6);
            width: 15px;
            height: 15px;
        }
        
        .mn6 {
            border-color: transparent!important;
            height: fit-content;
            border-bottom: 4rem solid var(--r7);
        }
        
        .mn81 {
            padding: 1rem;
            padding-bottom: 3rem;
        }
        
        .m21 svg {
            fill: white;
            width: -webkit-fill-available;
            height: -webkit-fill-available;
        }
        
        select,
        input {
            padding: 0.7rem 1rem;
            height: 2.5rem;
            background: var(--r10);
            color: white;
            font-size: 1.2rem;
            border-radius: 5px;
            font-family: 'C1';
        }
        
        select:focus,
        input:focus,
        textarea#swal2-input:focus,
        .swal2-styled.swal2-confirm:focus {
            box-shadow: 0px 0px 0px 3px var(--c7);
        }
        
        select::placeholder,
        input::placeholder {
            color: white;
            letter-spacing: 1px;
        }
        
        select {
            border: unset;
            height: auto;
        }
        
        select:focus-visible {
            outline: unset;
        }
        
        formx {
            padding: 1.3rem 1rem;
            gap: 0.5rem;
            align-items: flex-start!important;
            width: -webkit-fill-available;
        }
        
        .m1x1 {
            padding: 1rem;
            color: var(--c76);
            background: var(--r15);
            border-radius: 5px;
        }
        
        .m1x {
            margin: 10px;
            gap: 10px;
        }
        
        button {
            padding: 1rem 1.2rem;
            background: var(--r10);
            color: white;
            font-size: 1.1rem;
            border-radius: 5px;
            border: none;
            font-family: 'C1';
            width: -webkit-fill-available;
        }
        
        .m5211 {
            height: 40px;
            border-radius: 100rem;
            width: 40px;
        }
        
        .m521 {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            padding: 1rem;
            /* margin: 10px; f*/
            gap: 15px;
            border-radius: 10px;
            background: var(--r15);
        }
        
        .m52 {
            margin: 1rem;
            gap: 0.5rem;
        }
        
        [fff] {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: flex-start;
            align-items: flex-start;
        }
        
        [fww] {
            width: -webkit-fill-available;
        }
        
        .mn32 {
            gap: 0.6rem;
            overflow-y: scroll;
        }
        
        .mn321 {
            height: 2.5rem;
            flex-direction: row;
            justify-content: flex-start;
            align-items: center;
            gap: 0.5rem;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--r15);
        }
        
        .mn3211 {
            height: 40px;
            width: 40px;
            background-color: black;
            border-radius: 100rem;
        }
        
        .mn3212 {
            max-width: max-content;
        }
        
        .mn4121 {
            height: 68px;
            width: 68px;
            border: 3px solid var(--r5);
            margin: 3px;
            background-color: var( --v1);
            border-radius: 100rem;
        }
        
        .mn412 {
            padding: 1rem;
            display: flex;
            flex-direction: row;
            align-items: center;
            background: var(--r5);
        }
        
        .mn4122x {
            width: fit-content;
            height: fit-content;
            padding: 0.5rem 0.6rem;
            background-color: var(--v1);
            border-radius: 5px;
        }
        
        .mn4121x {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 01rem;
        }
        
        .mn41221 svg {
            fill: white;
            height: 22px;
            width: 22px;
        }
        
        .mn41221 {
            font-size: 1.3rem;
            display: flex;
            flex-direction: row;
            gap: 5px;
        }
        
        .mn412221 {
            text-transform: uppercase;
            font-size: 0.75rem;
            color: hsl(0deg 0% 70%);
        }
        
        .mn4122 {
            gap: 0.5rem;
        }
        
        .mn41222 {
            gap: 0.1rem;
        }
        
        .mn412221.n23xdi {
            font-size: 0.9rem;
            color: white;
        }
        
        .mn4122x svg {
            fill: white;
            width: 1.5rem;
            height: 1.5rem;
        }
        
        .m21[mainava] {
            width: 24px!important;
            height: 24px!important;
            border: 3px solid white;
        }
        
        sd {
            color: var(--v1);
        }
        
        .midetx {
            width: 20px;
            height: 20px;
            position: absolute;
            bottom: -3px;
            right: -3px;
            background-color: var(--r5);
            border-radius: 100px;
            box-shadow: 0px 0px 0px 4px var(--r5);
        }
        
        .midetx.bannerxto {
            top: 10px;
            right: 10px;
            bottom: unset;
        }
        
        .midetx svg {
            width: 14px;
            height: 14px;
            fill: var(--r5);
        }
        
        .mn61111 {
            height: 40px;
            width: 40px;
            background-color: black;
            border-radius: 100px;
        }
        
        .mn6111,
        .mn611 {
            display: flex;
            flex-direction: row;
        }
        
        .mn6112 {
            padding: 6px 10px;
            background: var(--v1);
            border-radius: 5px;
            text-transform: uppercase;
            font-size: 0.9rem;
        }
        
        .mn611 {
            display: flex;
            justify-content: space-between;
            width: -webkit-fill-available;
            font-size: 1rem;
            gap: 1rem;
            min-height: 40px;
        }
        
        .mn61112 {
            width: -webkit-fill-available;
            word-break: break-word;
            margin-left: 50px;
        }
        
        .mn61 {
            gap: 0.5rem;
        }
        
        c {
            FONT-WEIGHT: 900;
            font-family: sans-serif;
            color: var(--v1);
        }
        
        input[type="submit"] {
            padding: 1.5rem;
            background: var(--c7);
        }
        
        form {
            gap: 0.5rem;
        }
        
        .mn711 {
            min-height: 10rem;
        }
        
        .mn711 svg {
            fill: white;
            padding: 1rem;
            border-radius: 100rem;
            background: hsl(210deg 22% 7% / 50%);
            width: 50px;
            height: 50px;
        }
        
        .mnmxc1 {
            padding-bottom: 4rem;
            margin: 1rem;
            margin-top: unset;
            margin-bottom: 7rem;
            gap: 0.7rem;
        }
        
        .mnmxc11 img {
            border-radius: 10px;
            border: 2px solid var(--r15);
            min-height: 5rem;
            background: var(--r15);
        }
        
        .mnmxc111 {
            font-size: 1.8rem;
            word-break: break-word;
        }
        
        .mnmxc1121 {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 100rem;
        }
        
        .mnmxc1122 {
            font-size: 1.2rem;
            width: fit-content;
        }
        
        .mnmxc112 {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: flex-start;
            align-items: center;
            gap: 0.5rem;
            margin: 10px 0rem;
        }
        
        .mnmxc113 {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0rem;
        }
        
        .mnmxc1132 {
            font-size: 2rem;
            text-transform: uppercase;
        }
        
        .mnmxc1132:before {
            content: "Likes";
            margin-right: 0.2rem;
            font-size: 1rem;
        }
        
        .mnmxc1131 svg {
            fill: white;
            width: 40px;
            height: 40px;
        }
        
        .mnmxc1131 {
            height: fit-content;
            width: fit-content;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        
        *::-webkit-scrollbar {
            display: none!important;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        
        * {
            -ms-overflow-style: none!important;
            /* IE and Edge */
            scrollbar-width: none!important;
            /* Firefox */
        }
        
        .mn41222 {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 0.5rem;
        }
        
        .mn41222 svg {
            height: 25px;
            width: 25px;
        }
        
        .mnex81 {
            padding: 0.5rem 0.7rem;
            border-radius: 8px;
            background: var(--r15);
            font-size: 1.1rem;
        }
        
        .mnex8 {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 1rem;
            gap: 0.5rem;
        }
        
        .swal2-popup {
            background: var(--r10);
            color: var(--c7);
        }
        
        .swal2-styled.swal2-confirm {
            color: white;
            background: var(--v1);
            text-transform: uppercase;
        }
        
        .swal2-content {
            padding: 0px 5px;
        }
        
        textarea#swal2-input {
            border: unset;
            background: var(--r15);
            border-radius: 10px;
            padding: 1rem;
            color: var(--c6);
        }
        
        label.swal2-input-label {
            color: white;
        }
        
        .swal2-actions {
            margin-top: unset;
        }
        
        h2#swal2-title {
            color: white;
            margin: unset;
        }
        
        .swal2-file:focus,
        .swal2-input:focus,
        .swal2-textarea:focus {
            border: unset;
            outline: 0;
            box-shadow: unset;
        }
        
        textarea.swal2-textarea {
            background: var(--r15);
            border-radius: 5px;
            color: white;
        }
        
        [m5] {
            margin-bottom: 50px;
        }
        
        .ar1 {
            margin: 1rem;
            gap: 0.5rem;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            align-content: flex-end;
            justify-content: flex-start;
            align-items: flex-start;
        }
        
        textarea:focus-visible {
            outline-offset: unset;
            outline: unset;
        }
        
        textarea#note {
            border: unset;
            color: white;
            padding: unset;
            font-size: 1.8rem;
            background: #0e1216;
            font-family: 'c1';
            min-height: 2rem;
            letter-spacing: 1px;
            text-decoration: none!important;
            outline: none;
            margin-left: 4px;
        }
        
        textarea::placeholder {
            color: white;
        }
        
        .ar112 {
            padding: 11px 20px;
            background: var(--v1);
            font-size: 1rem;
            border-radius: 100rem;
            text-transform: uppercase;
        }
        
        .ar13 {
            padding: 11px 20px;
            background: var(--r15);
            border-radius: 100px;
        }
        
        .ar11 {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .ar12 {
            height: 25px;
        }
        
        .ar1 {
            margin: 1rem;
            gap: 0.5rem;
        }
        
        .ar14 img {
            height: fit-content;
            width: -webkit-fill-available;
            border: 2px solid var(--r15);
            border-radius: 10px;
        }
        
        [fc] {
            display: flex;
            flex-direction: row;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .ar13x {
            gap: 0.5rem;
            user-select: none;
        }
        
        .ar14 {
            margin-bottom: 0.5rem;
            width: -webkit-fill-available;
        }
        
        .ar111 svg {
            fill: white;
            height: 1.7rem;
            width: 1.7rem;
        }
        
        .a15xd {
            display: grid;
            width: -webkit-fill-available;
            grid-gap: 15px;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
        }
        
        .a15xxd span[emotex] {
            width: 42px;
            height: 42px;
            display: block;
        }
        
        .ar14 video {
            border: 2px solid var(--r15);
            border-radius: 10px;
            background: var(--r15);
        }
        
        .ar14 svg {
            margin: 0.5rem;
            padding: 0.2rem;
            background: #00000096;
            border-radius: 100rem;
            width: 1.2rem;
            height: 1.2rem;
            fill: white;
            z-index: 11;
        }
        
        .m3x1 {
            gap: 0.5rem;
        }
    </style>
</head>

<body>


    <script>
        AOS.init();
        const messaging = firebase.messaging();
        /////////////////////////////////
        icon_heart = `<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg>`
        icon_add = `<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 11h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"/></svg>`;
        icon_notification = `<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.89 0 1.34-1.08.71-1.71L18 16z"/></svg>`;
        icon_search = `<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>`;
        icon_edit = `<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>`;
        icon_owner = '<svg tippy data-tippy-content="Owner" width="24" height="24" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.6572 5.42868C13.8879 5.29002 14.1806 5.30402 14.3973 5.46468C14.6133 5.62602 14.7119 5.90068 14.6473 6.16202L13.3139 11.4954C13.2393 11.7927 12.9726 12.0007 12.6666 12.0007H3.33325C3.02725 12.0007 2.76058 11.792 2.68592 11.4954L1.35258 6.16202C1.28792 5.90068 1.38658 5.62602 1.60258 5.46468C1.81992 5.30468 2.11192 5.29068 2.34325 5.42868L5.13192 7.10202L7.44592 3.63068C7.46173 3.60697 7.48377 3.5913 7.50588 3.57559C7.5192 3.56612 7.53255 3.55663 7.54458 3.54535L6.90258 2.90268C6.77325 2.77335 6.77325 2.56068 6.90258 2.43135L7.76458 1.56935C7.89392 1.44002 8.10658 1.44002 8.23592 1.56935L9.09792 2.43135C9.22725 2.56068 9.22725 2.77335 9.09792 2.90268L8.45592 3.54535C8.46794 3.55686 8.48154 3.56651 8.49516 3.57618C8.51703 3.5917 8.53897 3.60727 8.55458 3.63068L10.8686 7.10202L13.6572 5.42868ZM2.66667 12.6673H13.3333V14.0007H2.66667V12.6673Z" fill="#faa61a" aria-hidden="true"></path>';
        icon_verified = `<svg xmlns="http://www.w3.org/2000/svg" fill="var(--c6)" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/><rect fill="none" height="24" width="24"/></g><g><path d="M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7 l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z M9.38,16.01L7,13.61c-0.39-0.39-0.39-1.02,0-1.41 l0.07-0.07c0.39-0.39,1.03-0.39,1.42,0l1.61,1.62l5.15-5.16c0.39-0.39,1.03-0.39,1.42,0l0.07,0.07c0.39,0.39,0.39,1.02,0,1.41 l-5.92,5.94C10.41,16.4,9.78,16.4,9.38,16.01z"/></g></svg>`;
        icon_staff = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g id="StaffBadge_svg__KMcxqn_tif_1_"><linearGradient id="StaffBadge_svg__SVGID_1_" gradientUnits="userSpaceOnUse" x1="1.523" y1="8" x2="14.477" y2="8"><stop offset="0" stop-color="#fd4d4d"></stop><stop offset="1" stop-color="#f26767"></stop></linearGradient><path d="M1.5 2.3c.6-.1 1.1-.2 1.6-.3 1.3-.3 2.6-.8 3.8-1.4l.9-.6c.2 0 .3 0 .4.1.7.4 1.4.8 2.1 1.1 1.1.5 2.2.8 3.4 1 .2 0 .5.1.7.1v7.1c0 .5-.1.9-.3 1.4-.4.9-1 1.7-1.8 2.4-.9.8-1.8 1.5-2.9 2.1-.4.2-.8.4-1.3.7h-.2c-1.2-.6-2.3-1.2-3.3-2-.8-.6-1.6-1.3-2.1-2.1-.4-.6-.8-1.3-.9-2v-.4-5.3c-.1-.7-.1-1.3-.1-1.9zm11.7 4.1V3.3c0-.1 0-.1-.1-.1-1-.2-2.1-.5-3-.9-.7-.3-1.4-.7-2-1h-.2c-.3.2-.5.3-.8.5-1.4.6-2.8 1.1-4.2 1.4-.1 0-.1.1-.1.2V9.7c.1.5.3.9.5 1.3.5.8 1.1 1.4 1.9 2 .9.7 1.8 1.3 2.8 1.8h.1c.1-.1.2-.1.4-.2.9-.5 1.8-1 2.5-1.7.7-.6 1.4-1.3 1.9-2.1.3-.5.5-1 .4-1.6-.1-.9-.1-1.8-.1-2.8z" fill="url(#StaffBadge_svg__SVGID_1_)"></path></g><linearGradient id="StaffBadge_svg__SVGID_2_" gradientUnits="userSpaceOnUse" x1="4.592" y1="8" x2="11.408" y2="8"><stop offset="0" stop-color="#fd4d4d"></stop><stop offset="1" stop-color="#f26767"></stop></linearGradient><path d="M11.4 7.9V5v-.1c-.1 0-.3 0-.4-.1-.6-.1-1.2-.3-1.8-.5-.4-.1-.7-.3-1.1-.5h-.2c-.1.1-.3.2-.5.3-.6.3-1.3.6-2 .8-.2 0-.5 0-.8.1v3.9c.1.5.3.8.5 1.1.3.4.7.8 1.1 1.1.5.4 1.1.7 1.7 1H8c.2-.1.5-.2.7-.4.6-.3 1.1-.7 1.5-1.1.4-.4.7-.8.9-1.2.1-.2.2-.5.2-.7.1-.2.1-.5.1-.8z" fill="url(#StaffBadge_svg__SVGID_2_)"></path><path fill="none" d="M0 0h16v16H0z"></path></svg>';
        icon_turbo_1 = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" contributions="12"><path d="M8 0L0 8l8 8 8-8-8-8zm-.8 5.1L4.3 8l2.9 2.9v2.6L1.7 8l5.5-5.5v2.6zm1.6 5.8L11.7 8 8.8 5.1V2.5L14.3 8l-5.5 5.5v-2.6z" fill="#5df4df"></path></svg>                                     ';
        icon_turbo_2 = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" contributions="1628"><path fill="#5df4df" d="M11.098 15.716l4.596-4.596.495.495-4.596 4.596zM-.005 4.624L4.59.028l.495.495L.49 5.12zM8.1.1l-8 8 8 8 8-8-8-8zm-.8 13.5L1.8 8.1l5.5-5.5v2.6L4.4 8.1 7.3 11v2.6zM7 9.5l.2-1.2-.8-.9 1.2-.2.5-1.1.5 1.1 1.2.2-.8.9.2 1.2-1.1-.6-1.1.6zM9 11l2.9-2.9L9 5.2V2.6l5.5 5.5L9 13.6V11zM11.092.518l.495-.495 4.597 4.596-.495.495zM0 11.62l.496-.494 4.596 4.596-.495.495z"></path><path fill="#5df4df" d="M11.098 15.716l4.596-4.596.495.495-4.596 4.596zM-.005 4.624L4.59.028l.495.495L.49 5.12zM8.1.1l-8 8 8 8 8-8-8-8zm-.8 13.5L1.8 8.1l5.5-5.5v2.6L4.4 8.1 7.3 11v2.6zM7 9.5l.2-1.2-.8-.9 1.2-.2.5-1.1.5 1.1 1.2.2-.8.9.2 1.2-1.1-.6-1.1.6zM9 11l2.9-2.9L9 5.2V2.6l5.5 5.5L9 13.6V11zM11.092.518l.495-.495 4.597 4.596-.495.495zM0 11.62l.496-.494 4.596 4.596-.495.495z"></path></svg>                                    ';
        icon_beta_tester = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"> <style type="text/css"> .st0{fill:#5865F2;} </style> <path class="st0" d="M18.4,0H5.6c-0.2,2.6-2.4,4.6-5,4.6v1.2c0,5.9,2.8,11.4,7.7,15.3L12,24l3.7-2.9c4.9-3.8,7.7-9.4,7.7-15.3V4.6  C20.8,4.6,18.7,2.6,18.4,0z M9.7,17.3c-3-2.4-4.8-5.8-4.8-9.5V7.1c1.6,0,3-1.2,3.1-2.8h4v14.9l0,0L9.7,17.3z"/> </svg>';

        //////////////////////////


        // sh('class')
        // a('div','id','class')
        // srcx('img','id','class','src') 
        // .css('','')
        $(document).on('click', '[registerbtn]', function name(params) {
            const email = $('#loginemail').val();
            const password = $('#loginpassword').val();
            if (email) {
                if (password) {

                    firebase.auth().createUserWithEmailAndPassword(email, password)
                        .then((userCredential) => {
                            // Signed in 
                            const user = userCredential.user;
                            // ...
                        })
                        .catch((error) => {
                            const errorCode = error.code;
                            const errorMessage = error.message;
                            swal('', errorMessage)
                        });
                }
            }

        })
        $(document).on('click', '[loginbtn]', function name(params) {
            const email = $('#loginemail').val();
            const password = $('#loginpassword').val();
            if (email) {
                if (password) {
                    firebase.auth().signInWithEmailAndPassword(email, password)
                        .then((userCredential) => {
                            // Signed in 
                            const user = userCredential.user;
                            // ...
                        })
                        .catch((error) => {
                            const errorCode = error.code;
                            const errorMessage = error.message;
                            swal('', errorMessage)
                                // ..
                        });
                }
            }

        })

        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                var v = window.location.pathname;
                console.log(v)


                const currentUser = user.uid;
                const CreateLink = new Date().getTime();

                const data = firebase.database().ref('/users/' + user.uid);
                const e = firebase.database().ref('/everyone/');
                const u = firebase.database().ref('/users/');
                $(document).on('click', '[get-flowx]', function name(params) {
                    const type = $(this).attr('type');
                    const userid = $(this).attr('userid')
                    $('body > div[pagex]').hide()
                    $('body > div[pagex][page="flow"]').show()
                    $('[flow-results]').html(' ')
                    if (userid && type) {
                        const fll = ` <div get-user userid="${userid}" class="mnex81 closex">
                    X
                </div>
               
                <div get-flowx userid="${userid}" type="followers" class="mnex81">Followers
                    <sd followers-countxx>0</sd>
                </div> <div get-flowx userid="${userid}" type="following" class="mnex81">Following
                    <sd following-countxx>0</sd>
                </div>`;
                        $('[flow-xoptions]').html(fll)
                        $('[flow-results]').html('')
                        u.child(userid).child('following').once('value', function(snap) {
                            $('[following-countxx]').text(snap.numChildren())
                        })
                        u.child(userid).child('followers').once('value', function(snap) {
                            $('[followers-countxx]').text(snap.numChildren())
                        })
                        u.child(userid).child(type).once(
                            'value',
                            function(snap) {
                                $('[flow-results]').html('')
                                for (var k in snap.val()) {
                                    const dx =
                                        `
    <div fw fff get-user keyx userid="${k}" class="mn321">
        <!--Avatar-->
        <div fw fff fbg dkoa userid="${k}" class="mn3211"></div>
        <!--NAme-->
        <div fw fff dkon userid="${k}" class="mn3212"></div>
    </div>`;
                                    $('[flow-results]').prepend(dx)
                                    userdata($('[dkoa][userid="' + k + '"]'), 'avatar', k)
                                    userdata($('[dkon][userid="' + k + '"]'), 'displayName', k)
                                        //  u.child(k).once('value', function(snap) {
                                        //  $('[keyx][userid="' + snap.val().userid + '"]').remove()

                                    //  $('.mn3212[userid="' + snap.val().userid + '"]').text(snap.val().displayName)
                                    // })
                                }
                            }
                        )
                    }
                })

                function postgg(userid, bid, sid) {
                    firebase.database().ref('/users/' + userid + '/posts/' + bid + '/' + sid)
                        .once('value', function(shot2) {
                            return console.log(shot2.val())
                        })
                }
                $(document).on('DOMNodeInserted', function(e) {
                    if ($(e.target).attr('mnmxc1122')) {
                        // console.log($(e.target).text().length)
                        if ($(e.target).text().length == 0) {

                            if ($(e.target).attr('userid')) {
                                u.child($(e.target).attr('userid')).on('value', function(snapshot) {
                                    $(e.target).text(snapshot.val().displayName)
                                })
                            }
                        }
                        //
                    }
                });
                $(document).on('DOMNodeInserted', function(e) {
                    const thiss = $(e.target);
                    if (thiss.hasClass('post-load')) {
                        if (thiss.text().length == 0) {
                            const sid = $(e.target).attr('sid');
                            const bid = $(e.target).attr('bid');
                            const userid = $(e.target).attr('userid');

                            u.child(userid).child('posts').child(bid).child(sid).once('value', function(shot2) {
                                u.child(userid).once('value', function(snap2) {
                                    console.log(shot2.val())
                                    var title;
                                    var titlex;
                                    var datasrc;
                                    const sid = shot2.val().numsml;
                                    const bid = shot2.val().numbig;
                                    var keyxo = shot2.val().numsml + '' + shot2.val().numbig;

                                    if (shot2.val().image == false) {
                                        console.log(true)
                                        if (shot2.val().video == false) {
                                            datasrc = ''
                                            title = ''
                                            if (shot2.val().title == false) {
                                                titlex = ''
                                            } else {
                                                titlex = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                            }
                                        } else {
                                            datasrc = `
<video style="border-radius:10px" video-post fww autoplay controls muted loop>
  <source  src="${shot2.val().video}" type="video/mp4">
Your browser does not support the video tag.
</video>`
                                            if (shot2.val().title == false) {
                                                title = ''
                                                titlex = ''
                                            } else {
                                                titlex = ''
                                                title = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                            }
                                        }
                                    } else {
                                        datasrc = '<img fww src="' + shot2.val().image + '">'
                                        if (shot2.val().title == false) {
                                            title = ''
                                            titlex = ''
                                        } else {
                                            titlex = ''
                                            title = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                        }
                                    }
                                    const datax =
                                        `
<div fww="" class="mnmxc11">
    <div fww="" get-user userid="${userid}" class="mnmxc112">
        <!--Avavtar-->
        <div fbg="" class="mnmxc1121"  style="background-image: url(${snap2.val().avatar});"></div>
        <!--Name-->
        <div class="mnmxc1122"  userid="${userid}"></div>
    </div>
    ${titlex}
    ${datasrc}
    <div class="mnmxc113">
        <!--Like Button-->
        <div like-post userid="${userid}" sid="${sid}" bid="${bid}" class="mnmxc1131 ">
            <svg like-fill userid="${userid}" sid="${sid}" bid="${bid}" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg>
        </div>
        <!--Like Count-->
        <div like-count userid="${userid}" sid="${sid}" bid="${bid}" class="mnmxc1132">4</div>
    </div>
    <!--Title-->
    ${title}
</div>`;

                                    $(e.target).html(datax)
                                    $('[sdtitle="' + keyxo + shot2.val().userid + '"]').text(shot2.val().title)
                                    $('.mnmxc1122[userid="' + userid + '"]').text(snap2.val().displayName)
                                        // userdata($('.mnmxc1122'), 'displayName', userid)
                                    likesData(userid, bid, sid, $('[like-count][userid="' + userid + '"][sid="' + sid + '"][bid="' + bid + '"]'), 'count')
                                    likesData(userid, bid, sid, $('[like-fill][userid="' + userid + '"][sid="' + sid + '"][bid="' + bid + '"]'), 'fill')



                                })

                            })
                        }
                    }
                });
                $(document).on('click', '[view-page][page="home"]', function() {
                    const e = firebase.database().ref('/everyone/');
                    const u = firebase.database().ref('/users/');
                    e.once('value', function(shotxx) {
                        e.child(shotxx.numChildren()).once('value', function(shot) {
                            $('.mn81').html('')


                            shot.forEach(function(shotx) {
                                const o = shotx.val();
                                const userid = o.userid;

                                $('.mn81').prepend(`<div fww userid="${userid}" sid="${o.sid}" bid="${o.bid}" class="mnmxc11 post-load"></div>`)
                            })
                        })
                    })

                })

                $('[post-mypost]').on('click', function() {
                    console.log('working')
                    var imgxxxx;
                    var inputxxxx;
                    var videoxxxx;
                    if ($('img[the-main-image]').attr('data-src')) {
                        imgxxxx = $('img[the-main-image]').attr('data-src');
                        videoxxxx = false
                    } else if ($('[the-main-video]').attr('data-src')) {
                        imgxxxx = false
                        videoxxxx = $('[the-main-video]').attr('data-src');
                    } else {
                        imgxxxx = false
                        videoxxxx = false
                    }
                    if ($('[the-post-text-input]').val()) {
                        if (!$('[the-post-text-input]').val().replace(/\s/g, '').length) {
                            inputxxxx = false
                        } else {
                            inputxxxx = $('[the-post-text-input]').val();
                        }
                    } else {
                        inputxxxx = false
                    }

                    const postref = data.child('posts');
                    if (imgxxxx == false && videoxxxx == false && inputxxxx == false) {

                    } else {
                        postref.once('value', function(shot) {
                            const numbig = shot.numChildren();
                            if (numbig == 0) {
                                postref.child(1).once('value', function(shot) {
                                    postref.child(1).child(1).update({
                                        postid: 11,
                                        numsml: 1,
                                        numbig: 1,
                                        image: imgxxxx,
                                        video: videoxxxx,
                                        title: inputxxxx,
                                        time: CreateLink,
                                        userid: currentUser,
                                    })
                                    $('[display-upload-image]').html('')
                                    $('[the-post-text-input]').val('')
                                })
                            } else {
                                console.log(numbig)
                                postref.child(numbig).once('value', function(shot) {
                                    const numsml = shot.numChildren();
                                    const totals = numsml + 1;
                                    const totalb = numbig + 1;

                                    if (numsml == '8') {
                                        console.log(numsml)
                                        postref.child(totalb).child(1).update({
                                            postid: totalb + '1',
                                            numsml: 1,
                                            numbig: totalb,
                                            image: imgxxxx,
                                            video: videoxxxx,
                                            title: inputxxxx,
                                            time: CreateLink,
                                            userid: currentUser,
                                        })
                                        $('[display-upload-image]').html('')
                                        $('[the-post-text-input]').val('')
                                    } else {
                                        //postref.child(total).child(numsml + 1).update({ postid: numsml + 1, })

                                        postref.child(numbig).child(totals).update({
                                            postid: '' + numbig + '' + '' + totals + '',
                                            numsml: totals,
                                            numbig: numbig,
                                            image: imgxxxx,
                                            video: videoxxxx,
                                            title: inputxxxx,
                                            time: CreateLink,
                                            userid: currentUser,
                                        })
                                        $('[display-upload-image]').html('')
                                        $('[the-post-text-input]').val('')
                                    }
                                })
                            }

                        })

                    }
                })
                $('[add-upload-image]').on('click', function name(params) {
                    $('[add-upload-image-input]').trigger('click')
                })
                $(document).on('click', '[remove-selected-image]', function() {
                    $('[display-upload-image]').html('')
                })


                $('[add-upload-image-input]').on('input', function name(params) {
                    const file = $(this)[0].files[0];
                    const filex = $(this)[0].files[0];
                    const storageRef = firebase.storage().ref('/users/' + currentUser + '/files/' + CreateLink + file.name);
                    //put request upload file to firebase storage
                    $('[post-mypost]').hide()


                    if (file.type.indexOf('image') == 0) {
                        storageRef.put(filex).then(function(snapshot) {
                            console.log("File Uploaded")
                            storageRef.getDownloadURL().then((downloadURL) => {
                                $('[the-main-image]').attr('data-src', downloadURL)

                                $('[post-mypost]').show()

                            });

                        });
                        var reader = new FileReader();

                        reader.onload = function(e) {
                            $('[display-upload-image]').html(
                                `<svg remove-selected-image aa xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg>
        <img ff the-main-image  src="${e.target.result}" alt="" srcset="">`
                            )
                        };

                        reader.readAsDataURL($(this)[0].files[0]);
                    } else {
                        storageRef.put(filex).then(function(snapshot) {
                            console.log("File Uploaded")
                            storageRef.getDownloadURL().then((downloadURL) => {
                                $('[the-main-video]').attr('data-src', downloadURL)

                                $('[post-mypost]').show()
                            });

                        });
                        var reader = new FileReader();

                        reader.onload = function(e) {
                            $('[display-upload-image]').html(
                                `<svg remove-selected-image aa xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg><video fww autoplay controls muted loop>
  <source the-main-video src="${e.target.result}" type="video/mp4">
Your browser does not support the video tag.
</video>`
                            )
                        };

                        reader.readAsDataURL($(this)[0].files[0]);
                    }



                })




                autosize($('#note'));
                sh('[set-emote-to-valinputar]')
                $(document).on('click', '[set-emote-to-valinputar]', function() {
                    var cursorPos = $('#note').prop('selectionStart');
                    var v = $('#note').val();
                    var textBefore = v.substring(0, cursorPos);
                    var textAfter = v.substring(cursorPos, v.length);
                    $('#note').val(textBefore + $(this).attr('name') + textAfter);
                });

                $(document).on('click', '[get-neko]', function name(params) {
                    $.getJSON('https://nekos.life/api/v2/img/neko', function(o) {
                        $('[display-upload-image]').html(
                            `<svg remove-selected-image aa xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg>
        <img ff the-main-image  src="${o.url}" data-src="${o.url}" alt="" srcset="">`
                        )
                    })
                })
                $("#note").on('input', function() {
                    if ($(this).val().length) {

                        $('[input-count-max]').text($(this).val().length)
                        if ($(this).val().length == 50) {
                            $('[input-count-max-box]').css('background', 'var(--c19)')
                        } else {
                            $('[input-count-max-box]').css('background', 'var(--r15)')
                        }

                    } else {

                        // Disable submit button
                    }
                });
                $(document).on('click', '[like-post]', function() {
                    const userid = $(this).attr('userid');
                    const sid = $(this).attr('sid');
                    const bid = $(this).attr('bid');
                    if (sid && bid && userid) {
                        const datav = firebase.database().ref('/users/' + userid + '/posts')
                            .child(bid)
                            .child(sid)
                            .child('likes')
                            .child(currentUser);
                        datav.once("value", function(snapshot) {
                            if (snapshot.exists()) {
                                datav.remove()
                            } else {
                                datav.update({
                                    like: true,
                                    userid: currentUser
                                })
                            }
                        })


                    }
                })

                function likesData(userid, bid, sid, apply, type) {
                    if (userid && bid && sid && apply && type) {
                        const datav = firebase.database().ref('/users/' + userid + '/posts')
                            .child(bid).child(sid).child('likes');
                        if (type == 'fill') {

                            datav.child(currentUser).on('value', function(dx) {
                                if (dx.exists()) {
                                    apply.css('fill', 'var(--c19)')
                                } else {
                                    apply.css('fill', 'var(--c6)')
                                }
                            })
                        }
                        if (type == 'count') {
                            datav.on('value', function(dx) {
                                apply.text(dx.numChildren());
                            })

                            // .snapshot.forEach(function(childSnapshot) {

                            // })
                        }
                    }
                }
                $('#uploadPostFile').on('click', function name(params) {
                    $('uploadPostFile').remove();
                    $('[uploadPostFile]').remove();
                    $('body').prepend(`<uploadPostFile link=""></uploadPostFile><input accept="image/*"  uploadPostFile type="file" nnn id="files" name="files[]" multiple />`)
                    $('[uploadPostFile]').trigger('click');
                })
                $(document).on('input', '[uploadPostFile]', function() {
                    const file = $(this)[0].files[0];
                    console.log(file)
                    const storageRef = firebase.storage().ref('/users/' + currentUser + '/files/' + CreateLink + file.name);
                    // Get the file from DOM


                    //dynamically set reference to the file name

                    //put request upload file to firebase storage
                    storageRef.put(file).then(function(snapshot) {

                        console.log("File Uploaded")
                        storageRef.getDownloadURL().then((downloadURL) => {

                            $('#uploadPostFile').css('background-image', 'url(' + downloadURL + ')'),
                                console.log('File available at', downloadURL);
                            $('uploadPostFile').attr('link', downloadURL)
                            sh('.mn711')
                            $('[uploadPostFile]').remove();
                            $('uploadPostFile').remove();
                        });

                    });

                })

                $('form.mn71').submit(function(e) {
                    e.preventDefault();
                    const title = $('#uploadPostTitle').val();
                    const type = $('#uploadPostType').val();
                    const file = $('#uploadPostFile').css('background-image');
                    const filex = file.replace('url(', '').replace(')', '').replace(/\"/gi, "");

                    if (filex == 'none') {
                        swal('No Image Selected')
                    } else {

                        $('#uploadPostTitle').val('')
                        console.log(filex)
                        uploadPost(filex, title, type)
                        swal('', 'Posted')
                        $('#uploadPostFile').css('background-image', '');
                    }

                });

                function uploadPost(url, title, type) {
                    if (type == 'post') {
                        data.child('posts').child(CreateLink).update({
                            title: title,
                            postid: CreateLink,
                            image: url,
                            userid: currentUser,
                        })
                    }
                };
                flowlist('7vshy9JPFDaUwoKhHUZPfZA9Z7O2', 'following')

                function flowlist(userid, type) {
                    firebase.database().ref('/users/' + userid + '/' + type)
                        .once("value", function(snapshot) {
                            for (var useridx in snapshot.val()) {

                            }
                        })
                }

                function notinfo(userid, notid, type, apply) {
                    firebase.database().ref('/users/' + userid + '/notifications/' + notid)
                        .on("value", function(snapshot) {
                            if (type == 'title') {
                                apply.text(snapshot.val().title);
                            } else if (type == 'userid') {
                                apply.attr('userid', snapshot.val().userid);
                            } else {
                                console.log('ERROR notinfo')
                            }
                        })
                }

                $(document).on('click', '[view-page][page="notifications"]', function() {
                        $('.mn61').html(' ')

                        data.child('notifications').once("value", function(snapshot) {


                            snapshot.forEach(function(childSnapshot) {
                                const key = childSnapshot.key;

                                $('[keyx="' + key + '"]').remove()
                                const childData = childSnapshot.val();
                                const type = childSnapshot.val().type;
                                var fhsdkdfoewopidfdfgjkldf;
                                if (type == 'follow') {
                                    fhsdkdfoewopidfdfgjkldf = 'is following you now.';
                                } else if (type == 'like') {
                                    fhsdkdfoewopidfdfgjkldf = 'liked your post.';
                                } else {
                                    fhsdkdfoewopidfdfgjkldf = 'just posted something new!';
                                }
                                const datacv =
                                    `<div fff="" keyx="${key}" class="mn611">
    <div fw="" rr="" fff="" class="mn6111">
        <div user-avatarxd userid="${childData.userid}" aa fw fff fbg class="mn61111">

        </div>
        <div c class="mn61112">
            <c c get-user display-namexd userid="${childData.userid}" class="mn611121">
            </c> 

        ${fhsdkdfoewopidfdfgjkldf}</div>
    </div>
    <div ff get-user userid="${childData.userid}" class="mn6112">View</div>
</div>`;
                                $('.mn61').prepend(datacv)
                                userdata($('[user-avatarxd][userid="' + childData.userid + '"]'), 'avatar', childData.userid)
                                userdata($('[display-namexd][userid="' + childData.userid + '"]'), 'displayName', childData.userid)
                                    //  const data = firebase.database().ref('/users/' + childData.userid);
                                    // data.once("value", function(snapshot) { const aas = snapshot.val(); const name = aas.displayName; const avatar = aas.avatar; $('[keyx="' + key + '"]').remove() if (childData.type == 'follow') { $('.mn61').prepend( a('div', ' fff keyx="' + key + '"', 'n611').prepend( a('div', 'fw rr fff', 'n6111').prepend( a('div', 'aa fw fff fbg', 'n61111').prepend( '' ).css('background-image', 'url(' + avatar + ')'), a('div', 'c', 'n61112').prepend( a('c', 'c get-user userid="' + childData.userid + '"', 'n611121').prepend(name), ' started following you.' ) ), a('div', 'ff get-user userid="' + childData.userid + '"', 'n6112').prepend( 'View' ) ) ) } if (childData.type == 'like') { if (childData.userid == currentUser) { } else { $('.mn61').prepend( a('div', ' fff keyx="' + key + '"', 'n611').prepend( a('div', 'fw rr fff', 'n6111').prepend( a('div', 'aa fw fff fbg', 'n61111').prepend( '' ).css('background-image', 'url(' + avatar + ')'), a('div', 'c', 'n61112').prepend( a('c', 'c get-user userid="' + childData.userid + '"', 'n611121').prepend(name), ' liked your post.' ) ), a('div', 'ff get-user userid="' + childData.userid + '"', 'n6112').prepend( 'View' ) ) ) } } })

                            });
                        }, function(error) {
                            console.error(error);
                        });



                    })
                    //function to save file
                    // <input deletexinput type="file" nnn id="files" name="files[]" multiple />
                $(document).on('click', '[uploadfilex]', function() {
                    const type = $(this).attr('type')
                    $('body').prepend(`<input deletexinput accept="image/*" typex="${type}" type="file" nnn id="files" name="files[]" multiple />`)
                    $('[deletexinput]').trigger('click');
                })
                $(document).on('input', '[deletexinput]', function() {
                    // Created a Storage Reference with root dir

                    const file = $(this)[0].files[0];
                    const type = $(this).attr('typex');

                    if (type) {

                        const storageRef = firebase.storage().ref('/users/' + currentUser + '/' + type + '/p1.jpg');
                        // Get the file from DOM


                        //dynamically set reference to the file name

                        //put request upload file to firebase storage
                        storageRef.put(file).then(function(snapshot) {

                            alert("File Uploaded")
                            storageRef.getDownloadURL().then((downloadURL) => {
                                $('[deletexinput]').remove();
                                console.log('File available at', downloadURL);
                                if (type == 'avatar') {
                                    data.update({
                                        avatar: downloadURL
                                    })
                                }
                                if (type == 'banner') {
                                    data.update({
                                        banner: downloadURL
                                    })
                                }

                            });

                        });
                    }


                })

                messaging.getToken({
                    vapidKey: 'BO_pr8rrSONw5247EO9yl9dfUfz635UjfXd6fb-wiExxOwzorFJag7BbkqQLiBtqvkM3Zcln2bvppZLUCmODLFI'
                }).then((currentToken) => {
                    if (currentToken) {
                        // Send the token to your server and update the UI if necessary
                        // ...
                        data.update({
                            pushToken: currentToken,
                        })

                    } else {
                        // Show permission request UI
                        console.log('No registration token available. Request permission to generate one.');
                        // ...
                    }
                }).catch((err) => {
                    console.log('An error occurred while retrieving token. ', err);
                    // ...
                });
                messaging.onMessage((payload) => {
                    navigator.vibrate(200);
                    console.log('Message received. ', payload);

                    // ...
                });
                $(document).on('click', '[ruf]', function() {
                    const ruser = $(this).attr('userid');
                    const rtype = $(this).attr('rtype');
                    if (rtype == 'follow') {
                        follow(ruser)
                    }
                });

                function follow(FollowUser) {
                    const MainYou = firebase.database().ref('/users/' + currentUser + '/following/' + FollowUser);
                    const DataThey = firebase.database().ref('/users/' + FollowUser + '/followers/' + currentUser);
                    MainYou.once("value", function(snapshot) {
                        if (snapshot.exists()) {
                            MainYou.remove()
                            DataThey.remove()
                        } else {
                            DataThey.update({
                                follow: true,
                            })
                            MainYou.update({
                                follow: true,
                            })
                        }
                    })
                }

                function checkfollow(FollowUser, DEX) {
                    const MainYou = firebase.database().ref('/users/' + currentUser + '/following/' + FollowUser);
                    MainYou.on("value", function(snapshot) {
                        if (snapshot.exists()) {
                            DEX.html(`
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/><rect fill="none" height="24" width="24"/></g><g><path d="M14,8c0-2.21-1.79-4-4-4S6,5.79,6,8s1.79,4,4,4S14,10.21,14,8z M2,18v1c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1v-1 c0-2.66-5.33-4-8-4S2,15.34,2,18z M18,10h4c0.55,0,1,0.45,1,1v0c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1v0 C17,10.45,17.45,10,18,10z"/></g></svg>`).css('background', 'var(--c19)')
                        } else {
                            DEX.html(`
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V8c0-.55-.45-1-1-1s-1 .45-1 1v2H2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1H6zm9 4c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"/></svg>`).css('background', 'var(--v1)')

                        }
                    })
                }

                function aboutme(text) {
                    const data = firebase.database().ref('/users/' + currentUser);
                    data.update({
                        aboutme: text,
                    })
                }

                function userdatao(div, type, useridxz) {
                    if (useridxz && type && div) {
                        const data = firebase.database().ref('/users/' + useridxz);
                        data.once("value", snapshot => {
                            if (type == 'verified') {
                                data.child('badges').once("value", snapshot => {
                                    if (snapshot.exists()) {
                                        if (snapshot.val().verified) {
                                            div.append(
                                                icon_verified
                                            )
                                        } else {

                                        }
                                    }

                                })
                            } else if (type == 'staff') {
                                data.child('badges').once("value", snapshot => {
                                    if (snapshot.exists()) {
                                        if (snapshot.val().staff) {
                                            div.append(
                                                icon_staff
                                            )
                                        } else {

                                        }
                                    }

                                })
                            } else if (type == 'turbo') {
                                data.child('badges').once("value", snapshot => {
                                    if (snapshot.exists()) {
                                        if (snapshot.val().turbo) {
                                            div.append(
                                                icon_turbo_1
                                            )
                                        } else {

                                        }
                                    }

                                })
                            } else if (type == 'turbo2') {
                                data.child('badges').once("value", snapshot => {
                                    if (snapshot.exists()) {
                                        if (snapshot.val().turbo2) {
                                            div.append(
                                                icon_turbo_2
                                            )
                                        } else {

                                        }
                                    }

                                })
                            } else {
                                console.log('Error [userdata]2')
                            }
                        })
                    }
                }

                function userdatax(div, type, useridxz) {
                    if (useridxz && type && div) {
                        const data = firebase.database().ref('/users/' + useridxz);
                        data.once("value", snapshot => {



                            if (type == 'displayName') {
                                div.text(snapshot.val().displayName)
                            } else if (type == 'aboutme') {
                                if (typeof snapshot.val().aboutme == 'undefined') {
                                    div.text('Meow!! Meow!! No Data Found.')
                                } else {
                                    div.text(snapshot.val().aboutme)
                                }
                            } else if (type == 'avatar') {
                                div.css('background-image', 'url(' + snapshot.val().avatar + ')')
                            } else if (type == 'banner') {
                                div.css('background-image', 'url(' + snapshot.val().banner + ')')
                            } else if (type == 'userid') {
                                div.text(snapshot.val().userid)
                            } else if (type == 'attr-userid') {
                                div.attr('userid', snapshot.val().userid)
                            } else if (type == 'followers-count') {
                                data.child('followers').on("value", snapshot => {
                                    div.text(snapshot.numChildren())
                                })

                            } else if (type == 'State') {
                                if (snapshot.val().State == true) {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c7)')
                                } else if (snapshot.val().State == false) {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c19)')
                                } else {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c19)')
                                }
                            } else if (type == 'StateColor') {
                                if (snapshot.val().State == true) {
                                    div.css('background-color', 'var(--c7)')
                                } else if (snapshot.val().State == false) {
                                    div.css('background-color', 'var(--c19)')
                                } else {
                                    div.css('background-color', 'var(--c19)')
                                }
                            } else if (type == 'following-count') {
                                data.child('following').on("value", snapshot => {
                                    div.text(snapshot.numChildren())
                                })
                            } else {
                                console.log('Error [userdata]2')
                            }
                        })

                    } else {
                        console.log('Error [userdata]1')
                    }
                }

                function userdata(div, type, useridxz) {
                    if (useridxz && type && div) {
                        const data = firebase.database().ref('/users/' + useridxz);
                        data.on("value", snapshot => {



                            if (type == 'displayName') {
                                div.text(snapshot.val().displayName)
                            } else if (type == 'aboutme') {
                                if (typeof snapshot.val().aboutme == 'undefined') {
                                    div.text('Meow!! Meow!! No Data Found.')
                                } else {
                                    div.text(snapshot.val().aboutme)
                                }
                            } else if (type == 'avatar') {
                                div.css('background-image', 'url(' + snapshot.val().avatar + ')')
                            } else if (type == 'banner') {
                                div.css('background-image', 'url(' + snapshot.val().banner + ')')
                            } else if (type == 'userid') {
                                div.text(snapshot.val().userid)
                            } else if (type == 'attr-userid') {
                                div.attr('userid', snapshot.val().userid)
                            } else if (type == 'followers-count') {
                                data.child('followers').on("value", snapshot => {
                                    div.text(snapshot.numChildren())
                                })

                            } else if (type == 'State') {
                                if (snapshot.val().State == true) {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c7)')
                                } else if (snapshot.val().State == false) {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c19)')
                                } else {
                                    div.css('box-shadow', '0px 0px 0px 3px var(--c19)')
                                }
                            } else if (type == 'StateColor') {
                                if (snapshot.val().State == true) {
                                    div.css('background-color', 'var(--c7)')
                                } else if (snapshot.val().State == false) {
                                    div.css('background-color', 'var(--c19)')
                                } else {
                                    div.css('background-color', 'var(--c19)')
                                }
                            } else if (type == 'following-count') {
                                data.child('following').on("value", snapshot => {
                                    div.text(snapshot.numChildren())
                                })
                            } else {
                                console.log('Error [userdata]2')
                            }
                        })

                    } else {
                        console.log('Error [userdata]1')
                    }
                }
                //////////////////////////////
                $(document).on('click', '[add-aboutme]', function() {
                    async function myFunction() {
                        const {
                            value: text
                        } = await Swal.fire({

                            input: 'textarea',
                            inputPlaceholder: 'Enter Something About You'
                        })

                        if (text) {
                            aboutme(text)
                        }
                    }
                    myFunction()
                })
                $(document).on('click', '[get-user]', function() {
                        $('[pagex][page="home"] > .mn81').html('')
                        $('[flow-results]').html('')
                        const userid = $(this).attr('userid')

                        if (userid) {

                            const datac = a('div', 'fw', 'n41').prepend(
                                a('div', 'fw fff rr fbg', 'n411').prepend( /// Profile Banner

                                ).css({
                                    'height': ' 130px',
                                    'background-color': 'var(--v1)',
                                }),
                                a('div', 'fw fff', 'n412').prepend( /// Profile Meta

                                    a('div', 'fw fff', 'n4121x').prepend( /// Profile Meta
                                        a('div', 'fw fff rr fbg', 'n4121').prepend( /// Profile PIC

                                        ),
                                        a('div', ' fff', 'n4122').prepend( /// Profile Meta
                                            a('div', ' ', 'n41221').text(''),
                                            a('div', ' fff', 'n41222').prepend( /// Profile 

                                            )
                                        )
                                    ),

                                ),

                                `
<div fff fww class="mn9">
    <div fff fww class="mn91">
        Intro
    </div>
    <div fff fww class="mn92">
 
        </div>
    </div>
    <div fff fww get-flowx userid="${userid}" type="followers" class="mnex8">
                                    <div class="mnex81">Followers
        <sd followers-count="">0</sd>
    </div>
    <div get-flowx userid="${userid}" type="following" class="mnex81">Following
        <sd following-count="">0</sd>
    </div>
</div>`
                            );
                            $('.mn4').html(datac)
                            userdata($('.mn41221'), 'displayName', userid)
                            userdata($('.mn92'), 'aboutme', userid)
                            userdatao($('.mn41222'), 'verified', userid)
                            userdatao($('.mn41222'), 'staff', userid)
                            userdatao($('.mn41222'), 'turbo', userid)
                            userdatao($('.mn41222'), 'turbo2', userid)
                            userdata($('.mn4121'), 'avatar', userid)

                            userdata($('.mn4121'), 'State', userid)
                            userdata($('.mn411'), 'banner', userid)
                            userdata($('[Following-Count]'), 'following-count', userid)
                            userdata($('[Followers-Count]'), 'followers-count', userid)

                            $('.mn41').append(
                                a('div', ' fff fww', 'nmxc1').prepend('')
                            )
                            $('.mnmxc1').html('')
                            const datax = firebase.database().ref('/users/' + userid);
                            const postref = datax.child('posts');
                            postref.once('value', function(shot) {
                                const numbig = shot.numChildren();
                                postref.child(numbig).once('value', function(shot) {
                                    shot.forEach(function(shot2) {
                                        console.log(shot2.val())
                                        var title;
                                        var titlex;
                                        var datasrc;
                                        const sid = shot2.val().numsml;
                                        const bid = shot2.val().numbig;
                                        var keyxo = shot2.val().numsml + '' + shot2.val().numbig;

                                        if (shot2.val().image == false) {
                                            console.log(true)
                                            if (shot2.val().video == false) {
                                                datasrc = ''
                                                title = ''
                                                if (shot2.val().title == false) {
                                                    titlex = ''
                                                } else {
                                                    titlex = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                                }
                                            } else {
                                                datasrc = `
<video style="border-radius:10px" video-post fww autoplay controls muted loop>
  <source  src="${shot2.val().video}" type="video/mp4">
Your browser does not support the video tag.
</video>`
                                                if (shot2.val().title == false) {
                                                    title = ''
                                                    titlex = ''
                                                } else {
                                                    titlex = ''
                                                    title = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                                }
                                            }
                                        } else {
                                            datasrc = '<img fww src="' + shot2.val().image + '">'
                                            if (shot2.val().title == false) {
                                                title = ''
                                                titlex = ''
                                            } else {
                                                titlex = ''
                                                title = `<div sdtitle="${keyxo +shot2.val().userid}" class="mnmxc111"></div>`;
                                            }
                                        }
                                        const datax =
                                            `
<div fww="" class="mnmxc11">
    <div fww="" class="mnmxc112">
        <!--Avavtar-->
        <div fbg="" class="mnmxc1121" style="background-image: url();"></div>
        <!--Name-->
        <div class="mnmxc1122"></div>
    </div>
    ${titlex}
    ${datasrc}
    <div class="mnmxc113">
        <!--Like Button-->
        <div like-post userid="${userid}" sid="${sid}" bid="${bid}" class="mnmxc1131 ">
            <svg like-fill userid="${userid}" sid="${sid}" bid="${bid}" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg>
        </div>
        <!--Like Count-->
        <div like-count userid="${userid}" sid="${sid}" bid="${bid}" class="mnmxc1132">4</div>
    </div>
    <!--Title-->
    ${title}
</div>`;

                                        $('.mnmxc1').prepend(datax)
                                        $('[sdtitle="' + keyxo + shot2.val().userid + '"]').text(shot2.val().title)
                                        userdata($('.mnmxc1121'), 'avatar', userid)
                                        userdata($('.mnmxc1122'), 'displayName', userid)
                                        likesData(userid, bid, sid, $('[like-count][userid="' + userid + '"][sid="' + sid + '"][bid="' + bid + '"]'), 'count')
                                        likesData(userid, bid, sid, $('[like-fill][userid="' + userid + '"][sid="' + sid + '"][bid="' + bid + '"]'), 'fill')

                                    })
                                })
                            })

                            if (currentUser == userid) {
                                $('.mn9').append(
                                    `<div ff add-aboutme class="mn93">
 <wordxc>Edit</wordxc>
 ${icon_edit}
</div>
</div>`
                                )
                                $('.mn412').append(a('div', 'fw ff', 'n4122x').html( /// Profile Follow
                                    `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><rect fill="none" height="24" width="24"/><path d="M19.5,12c0-0.23-0.01-0.45-0.03-0.68l1.86-1.41c0.4-0.3,0.51-0.86,0.26-1.3l-1.87-3.23c-0.25-0.44-0.79-0.62-1.25-0.42 l-2.15,0.91c-0.37-0.26-0.76-0.49-1.17-0.68l-0.29-2.31C14.8,2.38,14.37,2,13.87,2h-3.73C9.63,2,9.2,2.38,9.14,2.88L8.85,5.19 c-0.41,0.19-0.8,0.42-1.17,0.68L5.53,4.96c-0.46-0.2-1-0.02-1.25,0.42L2.41,8.62c-0.25,0.44-0.14,0.99,0.26,1.3l1.86,1.41 C4.51,11.55,4.5,11.77,4.5,12s0.01,0.45,0.03,0.68l-1.86,1.41c-0.4,0.3-0.51,0.86-0.26,1.3l1.87,3.23c0.25,0.44,0.79,0.62,1.25,0.42 l2.15-0.91c0.37,0.26,0.76,0.49,1.17,0.68l0.29,2.31C9.2,21.62,9.63,22,10.13,22h3.73c0.5,0,0.93-0.38,0.99-0.88l0.29-2.31 c0.41-0.19,0.8-0.42,1.17-0.68l2.15,0.91c0.46,0.2,1,0.02,1.25-0.42l1.87-3.23c0.25-0.44,0.14-0.99-0.26-1.3l-1.86-1.41 C19.49,12.45,19.5,12.23,19.5,12z M12.04,15.5c-1.93,0-3.5-1.57-3.5-3.5s1.57-3.5,3.5-3.5s3.5,1.57,3.5,3.5S13.97,15.5,12.04,15.5z"/></svg>`
                                ))
                                $('.mn4121').prepend(
                                    a('div', 'ff uploadfilex type="avatar"', 'idetx').html('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><circle cx="12" cy="12" r="3"/><path d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>').ready(function() {
                                        userdata($('.midetx'), 'StateColor', userid)
                                    })
                                )
                                $('.mn411').prepend(
                                    a('div', 'ff uploadfilex type="banner"', 'idetx bannerxto').html('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><circle cx="12" cy="12" r="3"/><path d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>').ready(function() {
                                        userdata($('.bannerxto'), 'StateColor', userid)
                                    })
                                )
                            } else {
                                $('.mn412').append(a('div', 'fw fff ruf rtype="follow" userid="' + userid + '"', 'n4122x')
                                    .html('')).ready(function() {
                                    checkfollow(userid, $('[ruf][rtype="follow"][userid="' + userid + '"]'))
                                });
                                $('.mn4121').prepend(
                                    a('div', 'ff', 'idetx').html('').ready(function() {
                                        userdata($('.midetx'), 'StateColor', userid)
                                    })
                                )
                            }
                            $('body > div[pagex]').hide()
                            $('[page="account"]').show()
                        }

                    })
                    // User is signed in./////
                console.log(user.uid)



                data.update({
                    State: true,
                });
                data.onDisconnect().update({
                    State: false,
                });

                $(document).on('input', '#searchbox', function() {
                    const val = $(this).val();
                    if (val == '') {
                        $('[search-results]').html('')
                    } else {
                        firebase.database().ref('/users').orderByChild('displayName').startAt(val).endAt(val + "\uf8ff").once("value", function(snapshot) {
                            $('[search-results]').html('')
                            snapshot.forEach(function(data) {
                                console.log();

                                $('[search-results]').append(
                                    a('div', 'fw fff get-user userid="' + data.val().userid + '"', 'n321').prepend( // Main div for name and avatar
                                        a('div', 'fw fff fbg', 'n3211').css('background-image', 'url(' + data.val().avatar + ')').html(''), // Avatar
                                        a('div', 'fw fff', 'n3212').text(data.val().displayName) // Display Name
                                    )
                                );
                            });
                        });

                    }


                })


                $('[view-page][page="home"]').ready(function() {
                    $('[view-page][page="home"]').trigger("click");


                });
                $(document).on('click', '[view-page]', function() {
                    const page = $(this).attr('page');
                    if (page == 'account') {
                        $('[pagex][page="home"] > .mn81').html('')
                    }
                    if (page == 'search') {
                        $('[pagex][page="home"] > .mn81').html('')
                    }
                    if (page == 'add') {
                        $('[pagex][page="home"] > .mn81').html('')
                    }
                    if (page == 'notifications') {
                        $('[pagex][page="home"] > .mn81').html('')
                    }
                    navigator.vibrate(70);
                    if (page) {
                        data.update({
                            page: page,
                        });
                        $('body > div[pagex]').hide()
                        $('div[view-page] > svg').css('fill', 'var(--c6)')
                        $('div[view-page]').css('border-color', 'var(--c6)')
                        $('[page="' + page + '"]').show()
                        $('[page="' + page + '"] > svg').css('fill', 'var(--v1)')
                        $('[page="' + page + '"]').css('border-color', 'var(--v1)')
                    }
                })
                data.on("value", snapshot => {

                    if (typeof snapshot.val().avatar == "undefined") {

                    } else {
                        userdata($('[mainava]'), 'avatar', currentUser)
                        userdata($('[mainava]'), 'attr-userid', currentUser)
                            // $('[mainava]').css('background-image', 'url(' + snapshot.val().avatar + ')').attr('userid', user.uid)
                    }

                    if (typeof snapshot.val().displayName == "undefined") {
                        async function myFunction() {
                            const {
                                value: text
                            } = await Swal.fire({
                                title: 'Input DisplayName address',
                                input: 'text',
                                inputLabel: 'Your DisplayName address',
                                inputPlaceholder: 'Enter your DisplayName address'
                            })

                            if (text) {
                                data.update({
                                    displayName: text,
                                });
                            }
                        }
                        myFunction()
                    } else {

                    }
                })
                $('.m3').css('display', 'none')
                $(document).on('click', '[set-avatar]', function() {
                    const href = $(this).attr('href')
                    if (href) {
                        data.update({
                            avatar: href,
                        });
                    }
                })
                $(document).on('click', '[set-banner]', function() {
                        const href = $(this).attr('href')
                        if (href) {
                            data.update({
                                banner: href,
                            });
                        }
                    })
                    //

                $('[loginx]').remove()
            } else {
                // User is signed out.
                console.log('No')
                setTimeout(
                    function name(params) {
                        $('.m3').css('display', 'flex')

                        $('body').prepend(a('div', 'fw ff aa fbg loginx', '31')
                            .css('background', 'var(--r5)')
                            .css('z-index', '11')
                            .css('justify-content', 'flex-end')
                            .prepend(
                                a('formx', 'ff', '311').prepend(
                                    `<input type="email" ff fw  name="" placeholder="Email" autocomplete="email" id="loginemail">
        <input  type="password" ff fw  name="" placeholder="Password" autocomplete="new-password" id="loginpassword">
        <button loginbtn style="background-color:var(--c7);" type="submit">Login</button>
        <button registerbtn style="background-color:rgb(88, 101, 242);" type="submit">Register</button>`
                                )
                            ))
                    }, 1000)
            }
        });

        $('body').prepend(

                ///notifications
                $('body').prepend(
                    `    <div fw ff aa pagex page="flow" class="mn3" style="margin-bottom: 50px;display: none;border-color: var(--v1);">
        <div fw fff class="mn31" style="padding: 1rem; gap: 1rem;">
            <div fc flow-xoptions class="m3x1">

            </div>
            <div fw fff flow-results class="mn32">

            </div>
        </div>
    </div>`,
                    a('div', 'fw fff aa pagex page="home"', 'n8').prepend(
                        a('div', ' fww', 'n81').prepend(
                            ''
                        )
                    ).css('display', 'none')
                    .css('margin-bottom', '50px'),
                    a('div', 'fw fff aa pagex page="add"', 'n7').css('display', 'none').prepend(
                        ` <div aa fff  fw>
        <div fff rr fw class="ar1">

            <div display-upload-image rr class="ar14">
            </div>
            <textarea the-post-text-input maxlength="50" cols="3" rows="10" placeholder="Whats up!??" fff fw id="note" class="ar12" autofocus ></textarea>
            <div fc class="ar13x">
                <div add-upload-image class="ar13">
                    Add Image Or Video
                </div>
                <div fc input-count-max-box class="ar13">
                    <div input-count-max class="ar13a">
                        0
                    </div>
                    <div class="ar13a">
                        /50
                    </div>
                </div>
                <div post-mypost ff class="ar112">
                    Post
                </div>
                <div get-neko class="ar13">
                    Get Neko
                </div>
                
            </div>

            <input nnn add-upload-image-input type="file" name="" accept="video/mp4,image/png, image/gif, image/jpeg" id="">
        </div>
    </div>`
                    ).css('padding', '1rem')
                    .css('gap', '1rem')
                    .css('margin-bottom', '50px'),
                    a('div', 'fw fff aa pagex page="notifications"', 'n6').css('display', 'none').prepend(

                        a('div', ' fff', 'n62').prepend(
                            'Notifications'
                        ).css('font-size', '1.5rem'),
                        a('div', 'fw fff', 'n61').prepend(
                            ''
                        )

                    ).css('margin-bottom', '50px')
                    .css('padding', '1rem')
                    .css('gap', '1rem'),

                    a('div', 'fw ff aa pagex page="account"', 'n4').prepend(

                    ).css('display', 'none')
                    .css('margin-bottom', '50px'),
                    a('div', 'fw ff aa pagex page="search"', 'n3').css('display', 'none').prepend(
                        a('div', 'fw fff', 'n31').prepend(
                            input('searchbox', 'ff fw', 'text', 'search', 'Search Users...').html(''),
                            a('div', 'fw fff search-results', 'n32').prepend( // The div where the data of search put showed!


                            ),
                        )
                        .css('padding', '1rem').css('gap', '1rem')
                    )
                    .css('margin-bottom', '50px'),
                    ///Bottom Menu Bar///
                    a('div', 'fw ff', '2').prepend(
                        ''
                    )
                    .css('position', 'fixed')
                    .css('bottom', '0')
                    .css('left', '0')
                    .css('height', '30px')
                    .css('padding', '10px 20px')
                    .css('background', 'var(--r5)')
                    .css('flex-direction', 'row')
                    .css('justify-content', 'space-between')
                    .css('z-index', '10').ready(
                        function name(params) {
                            $('body').css('margin-bottom', '75px')
                            const data = [{
                                img: '',
                                name: 'view-page page="home"',
                                color: '',
                                element: icon_heart,
                                br: '',
                            }, {
                                img: '',
                                name: 'view-page page="search"',
                                color: '',
                                element: icon_search,
                                br: '',
                            }, {
                                img: '',
                                name: 'view-page page="add"',
                                color: '',
                                element: icon_add,
                                br: '',
                            }, {
                                img: '',
                                name: 'view-page page="notifications"',
                                color: '',
                                element: icon_notification,
                                br: '',
                            }, {
                                img: '',
                                element: '',
                                name: 'view-page page="account" mainava get-user',
                                color: 'rgb(88, 101, 242)',
                                br: '100rem',
                            }];
                            $.each(data, function(v, o) {
                                const data = a('div', 'fw fbg ff ' + o.name + '', '21')
                                    .prepend(
                                        o.element
                                    )
                                    .css('background-color', o.color)
                                    .css('border-radius', o.br)
                                    .css('width', '30px')
                                    .css('background-image', 'url(' + o.img + ')')
                                $('.m2').append(data)
                            })
                        }
                    ),
                    ///Bottom Menu Bar///

                )
            )
            .css('background-color', 'var(--r7)')
    </script>
</body>

</html>